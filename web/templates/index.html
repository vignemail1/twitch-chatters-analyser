{{ define "index.html" }}
{{ template "base.html" . }}
{{ end }}

{{ define "title" }}{{ .Title }}{{ end }}

{{ define "content" }}
<h2>Bienvenue sur Twitch Chatters Analyser</h2>

{{ if .CurrentUser }}
    <div class="info">
        <p>Vous Ãªtes connectÃ© en tant que <strong>{{ .CurrentUser.DisplayName }}</strong>. <a href="/auth/logout" style="color: #ef4444;">Se dÃ©connecter</a></p>
    </div>
    
    <h3>ğŸš€ DÃ©marrage rapide</h3>
    <p>Pour analyser les chatters d'une chaÃ®ne Twitch :</p>
    <ol style="color: #adadb8; margin-left: 2rem; margin-bottom: 1.5rem;">
        <li>Consultez vos <a href="/channels">chaÃ®nes modÃ©rÃ©es</a></li>
        <li>Cliquez sur "Capturer les chatters" pour la chaÃ®ne de votre choix</li>
        <li>Attendez que le worker traite la capture (quelques secondes Ã  minutes)</li>
        {{ if .HasActiveSession }}
        <li>Consultez l'<a href="/analysis">analyse de session</a> pour voir les rÃ©sultats</li>
        {{ else }}
        <li>Consultez l'analyse de session aprÃ¨s avoir capturÃ© des chatters</li>
        {{ end }}
    </ol>
    
    <h3>ğŸ“Š FonctionnalitÃ©s</h3>
    <ul style="color: #adadb8; margin-left: 2rem; margin-bottom: 1.5rem;">
        <li><strong>Capture en temps rÃ©el</strong> des chatters prÃ©sents sur une chaÃ®ne</li>
        <li><strong>Analyse des dates de crÃ©ation</strong> de comptes pour dÃ©tecter des vagues de bots</li>
        <li><strong>Top 10 des jours</strong> avec le plus de comptes crÃ©Ã©s</li>
        <li><strong>Sessions d'analyse</strong> pour comparer plusieurs captures</li>
        <li><strong>Historique des renommages</strong> pour identifier les comptes suspects</li>
        <li><strong>Sauvegarde de sessions</strong> pour consulter vos analyses plus tard</li>
    </ul>
    
    <h3>ğŸ” Que chercher ?</h3>
    <p>Les viewer bots ont souvent ces caractÃ©ristiques :</p>
    <ul style="color: #adadb8; margin-left: 2rem;">
        <li>Nombreux comptes crÃ©Ã©s sur un ou quelques jours seulement</li>
        <li>Pics anormaux de crÃ©ation de comptes (100+ comptes le mÃªme jour)</li>
        <li>Comptes rÃ©cents (crÃ©Ã©s dans les derniÃ¨res semaines/mois)</li>
        <li>Changements frÃ©quents de pseudonyme</li>
    </ul>
    
{{ else }}
    <div class="info">
        <p>ğŸ‘‹ Bienvenue ! Cette application aide les modÃ©rateurs Twitch Ã  dÃ©tecter les <strong>viewer bots</strong>.</p>
    </div>
    
    <h3>ğŸ¯ Objectif</h3>
    <p>Analysez les comptes prÃ©sents dans un chat Twitch pour identifier les vagues de bots en observant :</p>
    <ul style="color: #adadb8; margin-left: 2rem; margin-bottom: 1.5rem;">
        <li>Les dates de crÃ©ation des comptes</li>
        <li>Les concentrations anormales de comptes crÃ©Ã©s sur quelques jours</li>
        <li>Les comptes qui changent souvent de pseudo</li>
    </ul>
    
    <h3>âœ… PrÃ©requis</h3>
    <p>Pour utiliser cette application, vous devez :</p>
    <ul style="color: #adadb8; margin-left: 2rem; margin-bottom: 1.5rem;">
        <li>ÃŠtre <strong>modÃ©rateur</strong> sur au moins une chaÃ®ne Twitch</li>
        <li>Vous connecter avec votre compte Twitch</li>
        <li>Autoriser l'accÃ¨s aux scopes : <code style="background-color: #1f1f23; padding: 0.2rem 0.4rem; border-radius: 3px;">user:read:moderated_channels</code> et <code style="background-color: #1f1f23; padding: 0.2rem 0.4rem; border-radius: 3px;">moderator:read:chatters</code></li>
    </ul>
    
    <div style="text-align: center; margin: 2rem 0;">
        <a href="/auth/login" style="display: inline-block; background-color: #9147ff; color: #fff; padding: 1rem 2rem; border-radius: 4px; text-decoration: none; font-weight: 600; font-size: 1.1rem;">
            ğŸ”‘ Se connecter avec Twitch
        </a>
    </div>
{{ end }}

<h3>ğŸ› ï¸ Technologies</h3>
<p style="color: #adadb8;">Ce projet est construit avec Go, MySQL, Docker et utilise l'API Twitch Helix.</p>
{{ end }}
